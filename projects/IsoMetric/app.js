(function(a){a.applicationCache&&a.applicationCache.addEventListener("updateready",function(b){if(a.applicationCache.status===a.applicationCache.UPDATEREADY){try{a.applicationCache.swapCache()}catch(f){}a.location.reload()}},!1)})(window);
angular.module("IsoMetric","ngAnimate ngDialog ngRoute ngTouch colorpicker.module IsoMetric.controllers IsoMetric.directives IsoMetric.filters IsoMetric.services IsoMetric.templates".split(" ")).config(["$routeProvider","$locationProvider",function(a,b){a.when("/menu",{controller:"menu",templateUrl:"views/menu.html"});a.when("/gameplay/:city",{controller:"gameplay",templateUrl:"views/gameplay.html"});a.when("/viewer/:type/:id",{controller:"viewer",templateUrl:"views/viewer.html"});a.when("/viewer/:type/:id/:height",
{controller:"viewer",templateUrl:"views/viewer.html"});a.otherwise({redirectTo:"/menu"})}]).run(["$rootScope","$location","$window","cordova",function(a,b,f,d){a.$on("$routeChangeSuccess",function(b,c){c.$$route&&(a.view=c.$$route.controller)});d&&f.document.addEventListener("deviceready",function(){f.document.addEventListener("backbutton",function(){"menu"===a.view?navigator.app.exitApp():b.path("/menu")})});if("undefined"!==typeof process&&"undefined"!==typeof require){d=require("nw.gui");var c=
new d.Menu({type:"menubar"});c.createMacBuiltin("IsoMetric");d.Window.get().menu=c}}]);angular.module("IsoMetric.controllers",[]).controller("menu",["$scope","$window","$location","cities","preferences","cordova","RunPrefixMethod",function(a,b,f,d,c,g,h){a.preferences=c;a.cities=d.all();a.play=function(a){!g&&h(b.document.body.parentNode,"RequestFullScreen");f.path("/gameplay/"+a.id)};a.remove=function(e){if(confirm("\u00bfEst\u00e1s seguro?"))for(var b=0;b<a.cities.length;b++)if(a.cities[b].id===e.id){a.cities.splice(b,1);d.remove(e.id);break}}}]).controller("createCity",["$scope",
"$location","ngDialog","cities",function(a,b,f,d){a.size=64;a.submit=function(){a.size=Math.max(8,Math.min(512,a.size));var c=d.create(a.name,a.size,a.size);b.path("/gameplay/"+c);f.close()}}]).controller("gameplay",["$scope","$routeParams","$location","$timeout","$window","cities","cordova","RunPrefixMethod",function(a,b,f,d,c,g,h,e){d(function(){a.city=g.get(b.city);a.city||f.path("/menu");a.pause=function(){f.path("/menu");h||!e(c.document,"FullScreen")&&!e(c.document,"IsFullScreen")||e(c.document,
"CancelFullScreen")}},0)}]).controller("viewer",["$scope","$routeParams","Tiles",function(a,b,f){a.type=b.type;a.id=b.id;a.height=parseInt(b.height||0,10)}]);angular.module("IsoMetric.directives",[]).directive("gameplay",["$window","Renderer","Map","Tiles","Clouds","Keyboard","Mouse","preferences","cordova",function(a,b,f,d,c,g,h,e,p){return{restrict:"E",scope:{city:"="},template:'<toolbox data-ng-class="{open: open, cordova: isCordova}"></toolbox><time>{{time | time}}</time>'+(e.debug?"<resolution>{{resolution.native}}<br>{{resolution.scaled}}</resolution><fps>{{fps}}fps</fps>":""),link:function(e,k,q){var t=angular.element(a.document.body).parent().addClass("gameplay"),
m=new f(e.city.map),l=new b(e,k),u=new PIXI.Container,w=new PIXI.Container,x=function(){l.resize();e.$apply()},n=null,y=function(e){null===n&&(n=e.target)},A=function(a){-1!==["tile","paint"].indexOf(e.tool)&&(n=a.target)},B=function(){var a=l.getViewport();e.city.position.x=a.x+a.w/2;e.city.position.y=a.y+a.h/2;e.city.save()};a.addEventListener("resize",x,!1);e.$on("$destroy",function(){t.removeClass("gameplay");a.removeEventListener("resize",x);delete g.events.keydown;l.destroy()});e.updateStage=
function(){var e=l.getViewport();l.stage.children.forEach(function(e){e.visible=!1;e.interactive=!1;p?e.off("touchstart",y):(e.off("mousedown",y),e.off("mouseover",A))});l.stage.removeChildren();m.tiles.forEach(function(a){if(a.position.x+d.WIDTH>e.x&&a.position.x<e.x2&&a.position.y+a.getHeight()>e.y&&a.position.y<e.y2){a.needsCarsRedraw&&(a.drawCars(),delete a.needsCarsRedraw);a.visible=!0;a.interactive=!0;if(p)a.on("touchstart",y);else a.on("mousedown",y),a.on("mouseover",A);l.stage.addChild(a)}});
u.position.copy(l.stage.position);w.position.copy(l.stage.position)};e.rotate=function(){var e=m.numRows*d.HALF_WIDTH,a=m.numCols*d.HALF_HEIGHT,b=l.getViewport();m.setRotation(0===m.rotation?2:0);m.tiles.forEach(function(e){e instanceof d.R&&e.update(m)});b.x+=b.w/2;b.y+=b.h/2;b.x-=e;b.y-=a;var c=180*Math.PI/180,p=Math.sin(c),r=Math.cos(c);l.centerAt(e+b.x*r-b.y*p,a+b.x*p+b.y*r);u.children.forEach(function(b){b.position.x-=e;b.position.y-=a;b.position.set(e+b.position.x*r-b.position.y*p,a+b.position.x*
p+b.position.y*r);b.accel.x*=-1;b.accel.y*=-1})};l.centerAt(e.city.position.x,e.city.position.y);l.layers.addChildAt(w,l.layers.children.length-1);l.layers.addChildAt(u,l.layers.children.length-1);for(k=0;8>k;k++)u.addChild(new c(l));g.events.keydown=function(a){if(!a.repeat)switch(a.keyCode){case 49:e.tool="move";e.$apply();break;case 50:e.tool="tile";e.$apply();break;case 51:e.tool="paint";e.$apply();break;case 52:e.tool="resize";e.$apply();break;case 53:e.rotate();break;case 54:e.fullscreen()}};
var C=0,D=0,z=null,v=null;e.time=-.4;e.animate=function(b){l.stage.children.forEach(function(e){!e.animate||e instanceof d.R||e.animate(b)});m.roads.forEach(function(e){e.animate(b)});u.children.forEach(function(e){e.animate(b)});if(100<=b-C){C=b;1<(e.time+=.00139)&&(e.time=-1);var c=Math.sin(e.time*(0>e.time?-1:1)*.9);l.layers.filters[0].gray=c;l.darkness.alpha=Math.max(0,c-.25)}if(30<=b-D){D=b;var p=!1,c=function(e,a){l.stage.position.x+=1<Math.abs(e)?e:0;l.stage.position.y+=1<Math.abs(a)?a:0;p=
!0};g.keys.UP?c(0,5):g.keys.DOWN&&c(0,-5);g.keys.LEFT?c(5,0):g.keys.RIGHT&&c(-5,0);p&&(e.updateStage(),B())}"move"===e.tool&&(h.buttons.LEFT?(null==v&&(v=l.getViewport(),v.scale=v.w/a.innerWidth),l.stage.position.set(-v.x-(h.startPosition.x-h.position.x)*v.scale,-v.y-(h.startPosition.y-h.position.y)*v.scale),e.updateStage()):v&&(v=null,B()));if(null!==n)if(h.buttons.LEFT)switch(c=l.getViewport(),c=c.y+c.w/a.innerWidth*h.position.y,e.tool){case "resize":if(Math.abs(c-n.position.y-d.HALF_HEIGHT)>d.HALF_HEIGHT){var f=
function(a){a=n.data.height+a;n.setHeight(a);n instanceof d.R&&n.update(m,!0);e.city.map.heights[n.index]=a;e.city.save(!0)};c>n.position.y?0<n.data.height&&f(-1):10>n.data.height&&f(1)}break;case "paint":c=e.color.uint(!0);z!==n.index&&(z=n.index,n.setColor(c),e.city.map.colors[n.index]=c,e.city.save(!0));break;case "tile":if(c=d[e.tile],!(n instanceof c))for(c=new c(n.data.height,"B"===e.tile?0:n.data.color.uint()),c.index=n.index,c.position.copy(n.position),f=0;f<m.tiles.length;f++)if(m.tiles[f].index===
n.index){m.tiles.splice(f,1,c);if("R"===e.tile)if(c.update(m,!0),n instanceof d.R)for(f=0;f<m.roads.length;f++){if(m.roads[f].index===n.index){m.roads.splice(f,1,c);break}}else m.roads.push(c);else if(n instanceof d.R)for(n.update(m,!0),f=0;f<m.roads.length;f++)if(m.roads[f].index===n.index){m.roads.splice(f,1);break}n=c;e.updateStage();f=e.city.map.tiles.substr(0,c.index);f+=e.tile;f+=e.city.map.tiles.substr(c.index+1);e.city.map.tiles=f;e.city.map.colors[c.index]=c.data.color.uint();e.city.save(!0);
break}}else n=z=null}}}}]).directive("toolbox",["Tiles","RunPrefixMethod","cordova","$window",function(a,b,f,d){return{restrict:"E",templateUrl:"partials/toolbox.html",link:function(a,g,h){a.open=!0;a.tool="move";a.tiles=["G","R","B","W"];a.tile=a.tiles[0];a.colors=[];"#00DD00 #774400 #006666 #FF6600 #FFFFAA #800080 #FFFFFF".split(" ").forEach(function(e){a.colors.push({hex:e,uint:function(e){var b=parseInt(this.hex.substr(1),16);if(!e||!a.colorNoise)return b;var d=Math.floor(Math.random()*(2*a.colorNoise+
1)-a.colorNoise);e=Math.max(0,Math.min(255,(b>>16&255)+d));var p=Math.max(0,Math.min(255,(b>>8&255)+d)),b=Math.max(0,Math.min(255,(b&255)+d));return e<<16|p<<8|b}})});a.color=a.colors[0];a.colorNoise=25;a.isCordova=!!f;a.fullscreen=function(){a.isFullscreen?b(d.document,"CancelFullScreen"):b(d.document.body.parentNode,"RequestFullScreen")};a.isFullscreen=b(d.document,"FullScreen")||b(d.document,"IsFullScreen");var e=function(){a.isFullscreen=b(d.document,"FullScreen")||b(d.document,"IsFullScreen");
a.$apply()};d.addEventListener("fullscreenchange",e,!1);d.addEventListener("webkitfullscreenchange",e,!1);d.addEventListener("mozfullscreenchange",e,!1);a.$on("$destroy",function(){d.removeEventListener("fullscreenchange",e,!1);d.removeEventListener("webkitfullscreenchange",e,!1);d.removeEventListener("mozfullscreenchange",e,!1)})}}}]).directive("tile",["Tiles","Color","$window",function(a,b,f){return{restrict:"E",scope:{type:"=",color:"=",height:"=",scale:"=",resolution:"="},link:function(b,c,g){var h=
b.scale||1,e=b.height||0===b.height?b.height:1,p=new PIXI.CanvasRenderer(a.WIDTH*h,(a.HEIGHT+a.HALF_HEIGHT*e)*h,{resolution:b.resolution||f.devicePixelRatio||1,antialias:!0,transparent:!0}),r=new a[b.type](e,b.color?b.color.uint():6710886);r.scale.x=r.scale.y=h;"R"===b.type&&r.update();p.render(r);b.$watch("color",function(e,a){e&&a&&e.hex!==a.hex&&(r.setColor(e.uint()),p.render(r))});g.position&&(p.view.style.margin="-"+p.height/2+"px 0 0 -"+p.width/2+"px");if(r.animate){var k,q=!0,t=function(){k=
requestAnimationFrame(t);if(q)return q=!1;q=!0;r.animate(1*new Date);p.render(r)};c.on("$destroy",function(){cancelAnimationFrame(k)});t()}c.append(p.view)}}}]).directive("music",["$interval","$window","cordova","preferences","arrayShuffle",function(a,b,f,d,c){var g=b.document.getElementsByTagName("script"),g=g[g.length-1],h=[],e=function(e){if(b.SC)return e();h.push(e)};(function(){var e=b.document.createElement("script");e.src="http://connect.soundcloud.com/sdk.js";b.document.body.insertBefore(e,
g);var c=1*new Date,d=a(function(){if(1E4<1*new Date-c)return console.log("Couldn't load Soundcloud SDK"),a.cancel(d);b.SC&&(a.cancel(d),d=null,f&&(SC._prepareStreamUrl=function(e){e=e.toString().match(/^\d.*$/)?"/tracks/"+e:e;e=SC.prepareRequestURI(e);e.path.match(/\/stream/)||(e.path+="/stream");e.scheme="http";return e.toString()}),SC._baseUrl="http://connect.soundcloud.com",SC.initialize({client_id:"eb5fcff9e107aab508431b4c3c416415"}),h.forEach(function(e){e()}),h.length=0)},100)})();return{restrict:"E",
templateUrl:"partials/music.html",link:function(a,b,f){var g=null,h=!1,m=0,l="91350799 169463792 186679484 149679300 97711219 189672065".split(" ");c(l);a.preferences=d;a.mute=function(){d.muted?g.play():g.pause();d.muted=!d.muted;d.save()};e(function(){var e=function(){g&&g.unload();g=null;h=!1;SC.stream("/tracks/"+l[m],function(a){if(h)return a.unload();!d.muted&&a.play({onfinish:e});g=a;++m>=l.length&&(m=0)})};e()});b.on("$destroy",function(){h=!0;g&&(g.stop(),g.unload())})}}}]);angular.module("IsoMetric.filters",[]).filter("time",function(){return function(a){var b=function(a){2>(a=Math.floor(a)+"").length&&(a="0"+a);return a};a=(120+1439*(a+1)/2)%1439;return b(a/60)+":"+b(a%60)}}).filter("resolution",["$window",function(a){return function(b){var f=b,d=384*(3<f?1.5:1),c=240*(3<f?1.5:1);b={w:d,h:c};d/c>a.innerWidth/a.innerHeight?b.w=Math.round(a.innerWidth*c/a.innerHeight):b.h=Math.round(a.innerHeight*d/a.innerWidth);f-=3<f?2:0;b.w*=f;b.h*=f;return b.w+"x"+b.h}}]);angular.module("IsoMetric.services",[]).factory("cordova",["$window",function(a){var b=null;a.cordova&&(b={});return b}]).factory("RunPrefixMethod",function(){var a=["webkit","moz","ms","o",""];return function(b,f){for(var d=0,c,g;d<a.length&&!b[c];){c=f;""==a[d]&&(c=c.substr(0,1).toLowerCase()+c.substr(1));c=a[d]+c;g=typeof b[c];if("undefined"!=g)return a=[a[d]],"function"==g?b[c]():b[c];d++}}}).factory("preferences",["$window",function(a){var b={debug:!1,muted:!1,antialias:!1,targetFPS:30,resolution:2,
keyMappings:{38:"UP",87:"UP",40:"DOWN",83:"DOWN",37:"LEFT",65:"LEFT",39:"RIGHT",68:"RIGHT"}},f=a.localStorage.getItem("IsoMetricPreferences");if(f)try{b=f=JSON.parse(f)}catch(d){}b.hasGL=function(){try{var a=document.createElement("canvas");return!!window.WebGLRenderingContext&&(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(b){return!1}}();b.hasGL||(b.antialias=!1,b.targetFPS=30,b.resolution=1);b.save=function(){var c=JSON.parse(JSON.stringify(b));delete c.hasGL;delete c.save;a.localStorage.setItem("IsoMetricPreferences",
JSON.stringify(c))};return b}]).factory("Keyboard",["$window","preferences",function(a,b){var f={keys:{UP:0,DOWN:0,LEFT:0,RIGHT:0},events:{}};a.addEventListener("keydown",function(a){if("input"!==a.target.tagName.toLowerCase()){var c=b.keyMappings[a.keyCode];c&&!a.repeat&&(f.keys[c]=1);f.events.keydown&&f.events.keydown(a)}},!1);a.addEventListener("keyup",function(a){if("input"!==a.target.tagName.toLowerCase()){var c=b.keyMappings[a.keyCode];c&&!a.repeat&&(f.keys[c]=0);f.events.keyup&&f.events.keyup(a)}},
!1);a.addEventListener("blur",function(a){for(var b in f.keys)f.keys[b]=0},!1);return f}]).factory("Mouse",["$window",function(a){var b={buttons:{LEFT:0,MIDDLE:0,RIGHT:0},startPosition:new PIXI.Point(0,0),position:new PIXI.Point(0,0)},f=null;a.addEventListener("touchstart",function(a){if(null===f&&a.changedTouches.length){for(var d=a.changedTouches[0].target;d&&d.tagName;){if("toolbox"===d.tagName.toLowerCase())return;d=d.parentNode}f=a.changedTouches[0].identifier;b.buttons.LEFT=1;b.startPosition.set(a.changedTouches[0].pageX,
a.changedTouches[0].pageY);b.position.copy(b.startPosition)}},!1);var d=function(a){if(null!==f)for(var d=0;d<a.changedTouches.length;d++)if(a.changedTouches[d].identifier===f){f=null;b.buttons.LEFT=0;break}};a.addEventListener("touchend",d,!1);a.addEventListener("touchleave",d,!1);a.addEventListener("touchcancel",d,!1);a.addEventListener("touchmove",function(a){if(null!==f)for(var d=0;d<a.changedTouches.length;d++)if(a.changedTouches[d].identifier===f){b.position.set(a.changedTouches[d].pageX,a.changedTouches[d].pageY);
break}},!1);a.addEventListener("mousedown",function(a){switch(a.button){case 0:b.buttons.LEFT=1;break;case 1:b.buttons.MIDDLE=1;break;case 2:b.buttons.RIGHT=1;break;default:return}b.startPosition.set(a.clientX,a.clientY);b.position.copy(b.startPosition)},!1);a.addEventListener("mouseup",function(a){switch(a.button){case 0:b.buttons.LEFT=0;break;case 1:b.buttons.MIDDLE=0;break;case 2:b.buttons.RIGHT=0}},!1);a.addEventListener("mousemove",function(a){b.position.set(a.clientX,a.clientY)},!1);a.addEventListener("blur",
function(a){for(var d in b.buttons)b.buttons[d]=0},!1);return b}]).factory("Renderer",["$window","$timeout","preferences",function(a,b,f){var d=function(){var b=384*(3<f.resolution?1.5:1),c=240*(3<f.resolution?1.5:1),e={w:b,h:c};b/c>a.innerWidth/a.innerHeight?e.w=Math.round(a.innerWidth*c/a.innerHeight):e.h=Math.round(a.innerHeight*b/a.innerWidth);return e},c=function(a,b){this.scope=a;this.size=d();(f.hasGL?PIXI.WebGLRenderer:PIXI.CanvasRenderer).call(this,this.size.w,this.size.h,{resolution:f.resolution-
(3<f.resolution?2:0),antialias:f.antialias});this.stage=new PIXI.Container;this.darkness=new PIXI.Graphics;this.darkness.beginFill(0,1);this.darkness.drawRect(0,0,this.size.w,this.size.h);this.darkness.endFill();this.darkness.alpha=0;this.layers=new PIXI.Container;this.layers.addChild(this.stage);this.layers.addChild(this.darkness);this.layers.filters=[new PIXI.filters.GrayFilter];this.layers.filters[0].gray=0;this.fps={countStart:0,counter:f.targetFPS-1};this.view.style.width="100%";this.view.style.height=
"100%";b.append(this.view);this.lastAnimationTicks=1*new Date;this.animate()};c.constructor=c;c.prototype=Object.create((f.hasGL?PIXI.WebGLRenderer:PIXI.CanvasRenderer).prototype);c.prototype.animate=function(){var a=this,c=1*new Date,e=Math.max(0,1E3/f.targetFPS-(c-this.lastAnimationTicks));this.animationRequest=b(function(){a.animate()},e);this.lastAnimationTicks=c+e;this.scope.animate&&(this.scope.animate&&this.scope.animate(c),this.render(this.layers),this.fps.counter++,1E3<=c-this.fps.countStart&&
(f.debug&&(a.scope.fps=a.fps.counter),this.fps.countStart=c,this.fps.counter=0))};c.prototype.destroy=function(){b.cancel(this.animationRequest);try{(f.hasGL?PIXI.WebGLRenderer:PIXI.CanvasRenderer).prototype.destroy.call(this)}catch(a){}};c.prototype.resize=function(){var b=this.size;this.size=d();(f.hasGL?PIXI.WebGLRenderer:PIXI.CanvasRenderer).prototype.resize.call(this,this.size.w,this.size.h);this.stage&&(this.stage.position.x+=(this.size.w-b.w)/2,this.stage.position.y+=(this.size.h-b.h)/2,this.scope.updateStage&&
this.scope.updateStage());this.darkness&&(this.darkness.clear(),this.darkness.beginFill(0,1),this.darkness.drawRect(0,0,this.size.w,this.size.h),this.darkness.endFill());f.debug&&(this.scope.resolution={"native":this.size.w*this.resolution+"x"+this.size.h*this.resolution,scaled:a.innerWidth+"x"+a.innerHeight})};c.prototype.getViewport=function(){var a=-this.stage.position.x,b=-this.stage.position.y;return{x:a,y:b,w:this.size.w,h:this.size.h,x2:a+this.size.w,y2:b+this.size.h}};c.prototype.centerAt=
function(a,b){this.stage.position.x=this.size.w/2-a;this.stage.position.y=this.size.h/2-b;this.scope.updateStage&&this.scope.updateStage()};return c}]).factory("Color",function(){var a=function(a,f,d,c){this.original={r:a,g:f,b:d};this.noise=c;this.reset()};a.prototype.reset=function(){this.r=this.original.r;this.g=this.original.g;this.b=this.original.b;if(this.noise){var a=Math.floor(Math.random()*(2*this.noise+1)-this.noise);this.r=Math.max(0,Math.min(255,this.r+a));this.g=Math.max(0,Math.min(255,
this.g+a));this.b=Math.max(0,Math.min(255,this.b+a))}};a.prototype.uint=function(){return this.r<<16|this.g<<8|this.b};a.prototype.light=function(a){return Math.max(0,Math.min(255,this.r+a))<<16|Math.max(0,Math.min(255,this.g+a))<<8|Math.max(0,Math.min(255,this.b+a))};return a}).factory("Tiles",["Color",function(a){var b=function(e){PIXI.Container.call(this);e.color=new a(e.color>>16&255,e.color>>8&255,e.color&255);this.data=e;this.addChild(this.bg=new PIXI.Graphics);this.addChild(this.tile=new PIXI.Graphics);
this.addChild(this.walls=new PIXI.Graphics);this.drawBg();this.drawTile();this.drawWalls()};b.constructor=b;b.prototype=Object.create(PIXI.Container.prototype);b.prototype.getHeight=function(){return 16+(this.data.height?8*this.data.height:0)};b.prototype.setHeight=function(a){this.position.y+=this.getHeight();this.data.height=a;this.position.y-=this.getHeight();this.drawBg();a?this.drawWalls():this.walls.clear()};b.prototype.setColor=function(e){this.data.color=new a(e>>16&255,e>>8&255,e&255);!this.data.tileColor&&
this.drawTile();this.drawWalls()};b.prototype.getNeighbors=function(a,b,c){var d=Math.floor(this.index%a.numCols),f=Math.floor(this.index/a.numCols),g=function(d,f){if(!(0>d||d>=a.numCols||0>f||f>=a.numRows))for(var g=f*a.numCols+d,k=0;k<a.tiles.length;k++)if(a.tiles[k].index===g){if(b&&!(a.tiles[k]instanceof b))break;if((c||0===c)&&a.tiles[k].data.height!==c)break;return a.tiles[k]}},d={N:g(d,f-1),W:g(d-1,f),E:g(d+1,f),S:g(d,f+1)},f=0,h;for(h in d)d[h]&&f++;d.count=f;return d};b.prototype.drawBg=
function(){0>=this.data.height||(this.bg.clear(),this.bg.beginFill(0,1),this.bg.drawPolygon(.5,8,14,.5,27.5,8,27.5,15.5+8*(this.data.height-1),14,15.5+8*this.data.height,.5,15.5+8*(this.data.height-1)),this.bg.endFill())};b.prototype.drawTile=function(){var a=this.data.tileColor||this.data.color;this.tile.clear();this.tile.beginFill(a.uint(),1);this.tile.lineStyle(1,0,.3);this.tile.drawPolygon(.5,8,14,.5,27.5,8,14,15.5);this.tile.endFill()};b.prototype.drawWalls=function(){0>=this.data.height||(this.walls.clear(),
this.walls.beginFill(this.data.color.uint(),1),this.walls.lineStyle(1,0,.3),this.walls.drawPolygon(.5,9,13.6,16.25,13.6,15.5+8*this.data.height,.5,8*(this.data.height+1)),this.walls.endFill(),this.walls.beginFill(this.data.color.uint(),1),this.walls.lineStyle(1,0,.3),this.walls.drawPolygon(14.4,16.25,27.5,9,27.5,8+8*this.data.height,14.4,15.5+8*this.data.height),this.walls.endFill())};var f=function(a,c){b.call(this,{height:a,color:c})};f.constructor=f;f.prototype=Object.create(b.prototype);var d=
function(e,c){c=c||(new a(Math.floor(102*Math.random()),Math.floor(102*Math.random()),Math.floor(102*Math.random()),25)).uint();b.call(this,{height:e,color:c});this.addChild(this.windows=new PIXI.Graphics);this.drawWindows();this.resetAnimation(1*new Date)};d.constructor=d;d.prototype=Object.create(b.prototype);d.prototype.setHeight=function(a){b.prototype.setHeight.call(this,a);a?this.drawWindows():this.windows.clear()};d.prototype.drawTile=function(){b.prototype.drawTile.call(this);this.tile.beginFill(this.data.color.light(-30),
1);this.tile.lineStyle(1,0,.3);this.tile.drawPolygon(5.5,8,14,3.5,22.5,8,14,12.5);this.tile.endFill()};d.prototype.drawWindows=function(){if(!(0>=this.data.height)){this.windows.clear();for(var a=14;a<-3+8*this.data.height;a+=3)for(var b=0;4>b;b++){this.windows.beginFill(16777181,Math.min(.8,Math.random()));this.windows.lineStyle(.1,0,.3);var c=2.6*b+3,d=1.6*b+a;this.windows.drawPolygon(c-1,d-1,c+1,d,c+1,d+2,c-1,d+1);this.windows.endFill()}for(a=19.5;a<2+8*this.data.height;a+=3)for(b=0;4>b;b++)this.windows.beginFill(16777181,
Math.min(.5,Math.random())),this.windows.lineStyle(.1,0,.3),c=2.6*b+17.2,d=1.6*-b+a,this.windows.drawPolygon(c-1,d-1,c+1,d-2,c+1,d,c-1,d+1),this.windows.endFill()}};d.prototype.resetAnimation=function(a){this.animationStep=Math.floor(6E3*Math.random())+3E3;this.lastAnimationTicks=a};d.prototype.animate=function(a){a-this.lastAnimationTicks>this.animationStep&&(this.drawWindows(),this.resetAnimation(a))};var c=function(b){PIXI.Graphics.call(this);this.direction=b;this.step=Math.floor(6*Math.random())/
10;this.color=new a(Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()))};c.constructor=c;c.prototype=Object.create(PIXI.Graphics.prototype);c.prototype.roadPoints={NORTH:{0:{from:new PIXI.Point(18,2),to:new PIXI.Point(5,10)},1:{from:new PIXI.Point(10,14),to:new PIXI.Point(24,6)}},WEST:{0:{from:new PIXI.Point(2,4),to:new PIXI.Point(16,12)},1:{from:new PIXI.Point(24,10),to:new PIXI.Point(12,3)}}};c.prototype.draw=function(a){var b=new PIXI.Point,c=new PIXI.Point;
switch(a.type){case a.types.NORTH:b.copy(this.roadPoints.NORTH[this.direction].from);c.copy(this.roadPoints.NORTH[this.direction].to);break;case a.types.WEST:b.copy(this.roadPoints.WEST[this.direction].from);c.copy(this.roadPoints.WEST[this.direction].to);break;case a.types.INTERSECTION:if(!this.from)return this.clear();switch(this.from.road.type){case a.types.NORTH:b.copy(this.roadPoints.NORTH[this.from.direction].from);break;case a.types.WEST:b.copy(this.roadPoints.WEST[this.from.direction].from);
break;case a.types.INTERSECTION:return this.clear()}switch(this.destination.type){case a.types.NORTH:c.copy(this.roadPoints.NORTH[this.direction].to);break;case a.types.WEST:c.copy(this.roadPoints.WEST[this.direction].to);break;case a.types.INTERSECTION:return this.clear()}}a=c.x-b.x;var d=c.y-b.y,c=Math.atan2(d,a),d=Math.sqrt(Math.pow(a,2)+Math.pow(d,2));a=b.x+d*this.step*Math.cos(c);b=b.y+d*this.step*Math.sin(c);this.clear();this.beginFill(this.color.uint(),1);this.lineStyle(1,0,.3);this.drawPolygon(a,
b-1,a+2,b,a,b+1,a-2,b);this.endFill()};var g=function(e,d){this.animationStep=100;this.lastAnimationTicks=0;b.call(this,{height:e,color:d,tileColor:new a(0,51,51,15)});this.addChild(this.cars=new PIXI.Container);0===Math.floor(2*Math.random())&&this.cars.addChild(new c(Math.floor(2*Math.random())))};g.constructor=g;g.prototype=Object.create(b.prototype);g.prototype.types={NORTH:1,WEST:2,INTERSECTION:3};g.prototype.drawTile=function(){if(this.type){b.prototype.drawTile.call(this);var a=this.tile,c=
function(b){var c;c=18-3.5*b;b=5+2*b;a.beginFill(16777215,1);a.lineStyle(1,0,.3);a.drawPolygon(c,b,c+1,b+.5,c-1,b+1.5,c-2,b+1);a.endFill()},d=function(b){var c;c=9+3.5*b;b=5.5+2*b;a.beginFill(16777215,1);a.lineStyle(1,0,.3);a.drawPolygon(c,b,c+1,b-.5,c+3,b+.5,c+2,b+1);a.endFill()};switch(this.type){case this.types.NORTH:for(var f=0;3>f;f++)c(f);break;case this.types.WEST:for(f=0;3>f;f++)d(f);break;case this.types.INTERSECTION:this.neighbors.N&&c(0),this.neighbors.W&&d(0),this.neighbors.E&&d(2),this.neighbors.S&&
c(2)}this.drawCars()}};g.prototype.drawCars=function(){var a=this;this.cars.children.forEach(function(b){b.draw(a)})};g.prototype.update=function(a,b){if(a){this.rotated=0!==a.rotation;this.neighbors=this.getNeighbors(a,g,this.data.height);if(2<this.neighbors.count||1<this.neighbors.count&&(this.neighbors.N&&!this.neighbors.S||this.neighbors.S&&!this.neighbors.N||this.neighbors.W&&!this.neighbors.E||this.neighbors.E&&!this.neighbors.W)){if(this.type=this.types.INTERSECTION,this.intersections=[],this.rotated){var c=
this.neighbors.N;this.neighbors.N=this.neighbors.S;this.neighbors.S=c;c=this.neighbors.W;this.neighbors.W=this.neighbors.E;this.neighbors.E=c}}else this.type=this.neighbors.W||this.neighbors.E?this.types.WEST:this.types.NORTH;this.drawTile();if(b){var c=this.getNeighbors(a,g),d;for(d in c)c[d]&&c[d].update&&c[d].update(a)}}else this.type=this.types.WEST,this.cars.removeChildren(),this.drawTile()};g.prototype.animate=function(a){if(this.neighbors&&this.cars.children.length&&a-this.lastAnimationTicks>
this.animationStep){this.lastAnimationTicks=a;a=this.cars.children.length;for(var b=0;b<a;b++){var c=this.cars.children[b];if(1<(c.step+=.1)){c.step=0;this.cars.removeChildAt(b);a--;b--;var d,f=this.rotated?0===c.direction?1:0:c.direction;switch(this.type){case this.types.NORTH:d=this.neighbors[0===f?"S":"N"];break;case this.types.WEST:d=this.neighbors[0===f?"E":"W"];break;case this.types.INTERSECTION:d=c.destination,delete c.from,delete c.destination}if(d&&(d.cars.addChild(c),c.draw(d),d.type===
this.types.INTERSECTION)){f=[];for(b in d.neighbors)"object"===typeof d.neighbors[b]&&d.neighbors[b].index!==this.index&&f.push(d.neighbors[b]);c.from={road:this,direction:c.direction};c.destination=f[Math.floor(Math.random()*f.length)];this.type===this.types.WEST?(c.destination===d.neighbors.S&&1===c.direction&&(c.direction=0),c.destination===d.neighbors.N&&0===c.direction&&(c.direction=1)):this.type===this.types.NORTH&&(c.destination===d.neighbors.E&&1===c.direction&&(c.direction=0),c.destination===
d.neighbors.W&&0===c.direction&&(c.direction=1))}}}this.visible?this.drawCars():this.needsCarsRedraw=!0}};var h=function(c,d){b.call(this,{height:c,color:d,tileColor:new a(0,0,170,15)});this.resetAnimation(1*new Date)};h.constructor=h;h.prototype=Object.create(b.prototype);h.prototype.resetAnimation=function(a){this.animationStep=Math.floor(500*Math.random())+250;this.lastAnimationTicks=a};h.prototype.animate=function(a){a-this.lastAnimationTicks>this.animationStep&&(this.data.tileColor.reset(),this.drawTile(),
this.resetAnimation(a))};return{WIDTH:28,HEIGHT:16,HALF_WIDTH:14,HALF_HEIGHT:8,G:f,B:d,R:g,W:h}}]).factory("Clouds",["Color","Tiles",function(a,b){var f=function(d){PIXI.Graphics.call(this);this.renderer=d;d=d.getViewport();this.position.x=Math.floor(3*Math.random()*d.w)+d.x-d.w;this.position.y=Math.floor(3*Math.random()*d.h)+d.y-d.h;d=new a(238,238,238,15);for(var c=Math.floor(8*Math.random())+8,f=Math.floor(5*Math.random())+5,h=b.HALF_WIDTH*(c+f)/-2,e=b.HALF_HEIGHT*(c+f)/-2,p=0;2>p;p++)for(var r=
0;r<f;r++)for(var k=h+b.HALF_WIDTH*(f-1-r),q=e+b.HALF_HEIGHT*r,t=Math.floor(8*Math.random())+4,m=0;m<c;m++)q+=t,d.reset(),0===Math.floor(2*Math.random())&&(this.beginFill(d.uint(),1),this.drawPolygon(k,q+b.HALF_HEIGHT,k+b.HALF_WIDTH,q,k+b.WIDTH,q+b.HALF_HEIGHT,k+b.HALF_WIDTH,q+b.HEIGHT),this.endFill(),this.beginFill(d.uint(),1),this.lineStyle(1,0,.1),this.drawPolygon(k,q+b.HALF_HEIGHT,k+b.HALF_WIDTH,q+b.HEIGHT,k+b.HALF_WIDTH,q+b.HEIGHT+t,k,q+b.HALF_HEIGHT+t),this.endFill(),this.beginFill(d.uint(),
1),this.lineStyle(1,0,.1),this.drawPolygon(k+b.HALF_WIDTH,q+b.HEIGHT,k+b.WIDTH,q+b.HALF_HEIGHT,k+b.WIDTH,q+b.HALF_HEIGHT+t,k+b.HALF_WIDTH,q+b.HEIGHT+t),this.endFill()),k+=b.HALF_WIDTH,q+=b.HALF_HEIGHT-t;this.scale.x=this.scale.y=(Math.floor(11*Math.random())+30)/100;this.alpha=(Math.floor(31*Math.random())+70)/100;d=(.2*Math.random()+.1)*(0==Math.floor(2*Math.random())?1:-1);0==Math.floor(2*Math.random())?this.accel={x:-d,y:-d}:(this.accel={x:d,y:-d},this.scale.x*=-1);this.lastAnimationTicks=0};f.constructor=
f;f.prototype=Object.create(PIXI.Graphics.prototype);f.prototype.animate=function(a){if(30<=a-this.lastAnimationTicks){this.position.x+=this.accel.x;this.position.y+=this.accel.y;var b=this.renderer.getViewport(),f=this.position.x,h=this.position.y,e=b.x2+b.w,p=b.y-b.h,r=b.y2+b.h;if(f<b.x-b.w||h<p||f>e||h>r)this.position.x=Math.floor(2*Math.random()*b.w)+b.x-b.w,this.position.y=Math.floor(2*Math.random()*b.h)+b.y-b.h,this.position.x>b.x&&(this.position.x+=b.w),this.position.y>b.y&&(this.position.y+=
b.h),0==Math.floor(2*Math.random())&&(this.accel.x*=-1,this.accel.y*=-1);this.lastAnimationTicks=a}};return f}]).factory("Map",["Tiles",function(a){var b=function(b){this.numCols=b.width;this.numRows=b.height;this.width=a.HALF_WIDTH*this.numCols;this.height=a.HALF_HEIGHT*this.numRows;this.tiles=[];this.roads=[];for(var d=0;d<this.numCols*this.numRows;d++){var c=new a[b.tiles[d]](b.heights[d],b.colors[d]);c.index=d;c.visible=!1;this.tiles.push(c)}this.setRotation(0);var g=this;this.tiles.forEach(function(b){b instanceof
a.R&&(b.update(g),g.roads.push(b))})};b.prototype.setRotation=function(b){this.tiles.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0});for(var d=0,c=0;c<this.numRows;c++){var g,h;switch(b){case 0:g=a.HALF_WIDTH*(this.numRows-1-c);h=a.HALF_HEIGHT*c;break;case 1:g=a.HALF_WIDTH*(2*this.numRows-2-c);h=a.HALF_HEIGHT*(this.numCols-1-c);break;case 2:g=a.HALF_WIDTH*(this.numRows-1+c);h=a.HEIGHT*(this.numCols-1)-a.HALF_HEIGHT*c;break;case 3:g=a.HALF_WIDTH*c,h=a.HALF_HEIGHT*(this.numCols-1+
c)}for(var e=0;e<this.numCols;e++)switch(this.tiles[d].position.x=g,this.tiles[d].position.y=h,0<this.tiles[d].data.height&&(this.tiles[d].position.y-=a.HALF_HEIGHT*this.tiles[d].data.height),d++,b){case 0:g+=a.HALF_WIDTH;h+=a.HALF_HEIGHT;break;case 1:g-=a.HALF_WIDTH;h+=a.HALF_HEIGHT;break;case 2:g-=a.HALF_WIDTH;h-=a.HALF_HEIGHT;break;case 3:g+=a.HALF_WIDTH,h-=a.HALF_HEIGHT}}this.tiles.sort(function(a,b){a=a.position.y+a.getHeight();b=b.position.y+b.getHeight();return a>b?1:a<b?-1:0});this.rotation=
b};return b}]).factory("cities",["$window","defaultCities","Color","Tiles",function(a,b,f,d){var c=a.localStorage.getItem("IsoMetricCities"),g=[];if(c)try{g=c=JSON.parse(c)}catch(h){}else b.forEach(function(b){g.push(b.id);a.localStorage.setItem("IsoMetricCityMap."+b.id,JSON.stringify(b.map));var c=JSON.parse(JSON.stringify(b));delete c.map;a.localStorage.setItem("IsoMetricCity."+b.id,JSON.stringify(c))}),a.localStorage.setItem("IsoMetricCities",JSON.stringify(g));return{all:function(){var b=[];g.forEach(function(c){var d=
a.localStorage.getItem("IsoMetricCity."+c);try{if(d=JSON.parse(d))d.save=function(){var b=JSON.parse(JSON.stringify(d));delete b.$$hashKey;delete b.save;a.localStorage.setItem("IsoMetricCity."+c,JSON.stringify(b))},b.push(d)}catch(f){}});return b},get:function(b){var c=a.localStorage.getItem("IsoMetricCity."+b);try{c=JSON.parse(c)}catch(d){return}if(c){c.map=a.localStorage.getItem("IsoMetricCityMap."+b);try{c.map=JSON.parse(c.map)}catch(f){return}if(c.map)return c.save=function(d){var f=JSON.parse(JSON.stringify(c));
delete f.$$hashKey;delete f.map;delete f.save;d&&(f.lastModified=1*new Date);a.localStorage.setItem("IsoMetricCity."+b,JSON.stringify(f));d&&a.localStorage.setItem("IsoMetricCityMap."+b,JSON.stringify(c.map))},c}},create:function(b,c,h){c=c||64;h=h||64;var k=1*new Date;b={id:UUID.create(4).hex,name:b,position:{x:c*d.HALF_WIDTH,y:h*d.HALF_HEIGHT},createdAt:k,lastModified:k};c={id:b.id,width:c,height:h,tiles:[],heights:[],colors:[]};for(var k=c.width/2,q=c.height/2,t=new f(0,221,0,50),m=new f(119,68,
0,50),l=new f(0,102,102,50),u=0;u<c.height;u++)for(var w=0;w<c.width;w++){var x=0===Math.floor(3*Math.random())?0===Math.floor(3*Math.random())?l:m:t;h=1;if(3>w||3>u||w>c.width-4||u>c.height-4)h=0;w>=k-1&&w<=k&&u>=q-1&&u<=q&&(h=2);x.reset();c.tiles.push(h?"G":"W");c.colors.push(x.uint());c.heights.push(h)}c.tiles=c.tiles.join("");a.localStorage.setItem("IsoMetricCityMap."+b.id,JSON.stringify(c));a.localStorage.setItem("IsoMetricCity."+b.id,JSON.stringify(b));g.push(b.id);a.localStorage.setItem("IsoMetricCities",
JSON.stringify(g));return b.id},remove:function(b){for(var c=0;c<g.length;c++)if(g[c]===b){a.localStorage.removeItem("IsoMetricCityMap."+b);a.localStorage.removeItem("IsoMetricCity."+b);g.splice(c,1);a.localStorage.setItem("IsoMetricCities",JSON.stringify(g));break}}}}]).factory("arrayShuffle",function(){return function(a){for(var b=a.length;0!==b;){var f=Math.floor(Math.random()*b);b--;var d=a[b];a[b]=a[f];a[f]=d}}}).value("defaultCities",[{id:"dca46c04-daf3-4c31-802e-10e9d48f6189",name:"Islita",
position:{x:224,y:124},createdAt:1432740694014,lastModified:1432740973421,map:{id:"dca46c04-daf3-4c31-802e-10e9d48f6189",width:16,height:16,tiles:"WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWGGGGGGGGGGWWWWWWGBBGGGGGGGWWWWWWGBRRRRRRGGWWWWWWGGRGGGGRGGWWWWWWGGRGGGGRGGWWWWWWGGRGGGGRGGWWWWWWGGRGGGGRGGWWWWWWGGRRRRRRBGWWWWWWGGGGGGGBGGWWWWWWGGGGGGGGGGWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW",heights:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,6,5,0,0,0,0,0,3,1,0,0,0,0,0,0,1,3,1,1,1,1,1,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,3,2,0,1,0,1,0,0,0,0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,1,1,1,1,1,3,1,0,0,0,0,0,0,1,3,0,0,0,0,0,3,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],colors:[7947778,517127,15420,7158272,9921568,10053154,54528,2065797,14649,3118485,
2555686,881523,2359075,10842670,2752297,49664,2948908,3079982,52480,55040,46848,45824,7553024,48896,4921344,46080,1635608,7289856,4789760,7026688,49920,3145519,3211056,47104,8013571,5513472,52992,780299,51712,2883371,2621223,13364,1767194,50944,55040,9461017,45312,7881985,47616,749937,6039808,46592,21845,1635608,47616,51200,2490149,2555686,54528,3014445,3118485,1372436,7947778,50688,122369,56576,10776877,2328969,1638711,2105879,15163,10316326,25700,49664,3211056,1078902,9855775,50176,2817834,45568,
54272,2621223,5447680,6368768,2566678,6049075,1210488,44800,6039808,1372436,1934211,5052928,55552,44288,56576,9000466,46592,55552,55552,3276593,54272,5710848,14392,2490149,2490149,2096159,8210950,1504022,8737294,44544,486765,56064,50944,5316096,52224,14392,54784,2161952,4526592,1832987,51712,5513472,5118720,4592384,9066259,20303,122369,23387,2096159,20817,56320,648713,56576,1306643,10316326,10711084,48128,5052928,385541,5184512,3079982,44032,1306643,188162,8474122,2161952,1175057,10184740,51712,2030366,
53760,517127,51968,4723968,49664,1240850,55552,2096159,55552,46336,13364,2161952,648713,5184512,55040,46848,1438229,48128,5052928,5908224,52736,6688870,55552,44032,2948908,188162,3276593,51456,289386,2096159,1013109,4789760,45056,319748,8605708,10382119,546816,11040049,7026688,10184740,4789760,49152,44288,50176,48896,44544,47872,3145519,2424612,7026688,55296,47360,3211056,9526810,48384,1306643,46848,582920,9789982,6697728,16448,54272,1767194,52224,45056,47872,1701401,3145519,9132052,1635608,2686760,
13364,53248,51968,45568,47616,1701401,6434560,47104,8868880,5381888,2490149,8276743,55808,53760,50944,54784,49152,3079982,2752297,48896,48128,8210950,319748,911885,52224,56576,2293538,1240850,1438229,53248,9921568,49920,48128,122369,319748]}},{id:"324d2b83-af4b-4e21-ac08-eb05987e3f71",name:"Ciudad",position:{x:1111,y:644},createdAt:1432741040538,lastModified:1432745916910,map:{id:"324d2b83-af4b-4e21-ac08-eb05987e3f71",width:64,height:64,tiles:"WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRRGGWWWWWWGGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRBGGGGGGGBRGGWWWWWWGWGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGRGGWWWWWWGGWGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGWWWWWWWGRGGWWWWWWGGGWGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGRGGWWWWWWGGGGWGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGWWWWWWWGRGGWWWWWWGGGGGWGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGRGGWWWWWWGGGGGGWGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGWWWWWWWGRGGWWWWWWGGGGGGGWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGRGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGWWWWWWWGRGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGRGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGRGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRRGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRRRGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRRRGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGGGGGGWWWWWWGGGGGGGGBBBRRRGGGGGRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRGGGGGGGGGWWWWWWGGGGGGGGGGGRGRGGGGGRGGGGGGGGGGGGGGGGGGRGBBBGRGGGRGGGGGGGGGWWWWWWGGGGGGGWWWGRGRRRRGGRGRRRRRRRRRRRRRRRRGRBGGGGRGWGRGGGGGGGGGWWWWWWWWWWWWWWWWGRGGGGRGGRGRGGGGGGGGGGGGGGRGRGGGGBRGWGRGGGGGGGGGWWWWWWWWWWWWWWWWGRGGGGRRRRGRGWWWWWWWWWWWWGRGRGGGGGRGWGRGGGGGGGGGWWWWWWWWWWWWWWWWGRGGGGGGGRGRGWRRRRRRRRRRWGRGRBGBGBRGWGRGGGGGGGGGWWWWWWGGGGGGGWWWGRGGGGGGGRGRGWRGGGGGGGGRWGRGRGGBGGRGGGRGGGGGGGGGWWWWWWGGGGGGGGGGGRGGGGGGGRGRGWRGGGGGGGGRWGRGRRRRRRRRRRRGGGGGGGGGWWWWWWGGGGGGGGBBBRGGGGGGGRGRGWRGGGGGGGGRWGRGRGBGBGBBBGRGGGGGGGGGWWWWWWGGGGGGGGGGGRRRGGGGGRGRGWRGGGWWGGGRWGRGRGGGGGGGGGRGGGGGGGGGWWWWWWGGGGGGGGGGGGGRGGGGGRGRGWRGGGWWGGGRWGRGRGGGGGGGGGRGGGGGGGGGWWWWWWGGGGGGGGGGGGGRRRGGGRGRGWRGGGGGGGGRWGRGRGGGGGGGGGRGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGRGGGRGRGWRGGGGGGGGRWGRGRGBGBGGBBGRGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGRRRRRGRGWRGGGGGGGGRWGRGRRRRRRRRRRRRRRRRRGGGWWWWWWGGGGGGGGGGGGGGGGGGGRGRGWRRRRRRRRRRWGRGRWGWGWGWGWRBGGBBRGGGWWWWWWGGGGGGGGGGGGGGGGGGGRGRGWWWWRWWRWWWWGRGRWGWGWGWGWRGGGGGRGGGWWWWWWGGGGGGGGGGGGGGGGGGGRRRGGGRRRGGRRRGGGRRRRRRRRRRRRRGGGBGRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGRGGGRGGGGGGGRBGGBGGGGBRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGRRRGGRRRGGGRGGGGGGGRBGGGGGGGGRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGRGGGGGRGGGGGGGRGGGGGGGGBRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGRRRGGRRRGGGRGGGGGGGRGGGGGGGGGRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGRGGGGGGRGGGRRRGGGGGRGBGBGBGBGRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGRRRGGRRRGGGGGRGGGGGRRRRRRRRRRRGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGRGGGGGGGRRRGGGGGGGGRGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGRGGGGGGGGGRGGGGGGRRRGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGRGGGGGGGGGRRRGGGGRGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGRGGRGGGGGGGGGGGRGRRRRGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGRRRGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRGGRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRGGRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGRRRRRRRRRRGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW",
heights:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,3,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,4,3,3,1,1,1,5,0,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,2,2,2,1,1,1,1,1,1,1,4,3,0,2,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,5,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,2,2,2,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,1,0,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,3,1,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,4,0,1,1,1,1,1,
1,2,1,2,2,2,2,2,2,2,2,2,2,1,2,1,1,1,3,1,6,1,3,1,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,2,2,2,0,0,0,1,1,1,3,2,3,4,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,2,2,2,1,1,1,1,1,1,1,1,0,2,1,1,1,1,1,2,1,2,1,2,1,1,1,1,2,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,5,4,3,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,1,2,1,1,2,1,1,2,1,2,1,1,1,1,4,1,7,1,4,6,3,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
3,1,1,1,1,1,2,1,2,1,1,1,2,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,2,2,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,2,1,1,2,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,1,1,1,2,1,2,1,2,1,1,1,1,5,1,4,1,1,3,6,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,2,2,2,2,2,2,2,2,1,2,1,1,1,1,2,1,2,1,2,1,2,1,1,6,1,3,4,8,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,2,1,1,1,1,2,1,1,1,1,2,1,2,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,0,2,1,1,4,1,1,8,1,1,1,1,4,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,2,2,2,1,1,1,1,2,2,3,4,1,0,0,1,3,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,0,0,0,0,0,3,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,3,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,2,2,2,1,1,1,1,1,0,2,0,0,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,
1,1,1,1,2,1,5,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,1,1,0,0,1,0,2,1,1,3,1,4,1,4,1,3,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,1,2,1,2,2,1,3,1,0,1,1,1,1,1,1,1,1,1,2,2,2,1,1,2,2,2,1,1,1,1,1,1,1,0,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,2,0,1,1,1,1,3,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,4,1,4,2,5,1,0,2,1,1,1,0,1,1,1,1,1,1,2,2,2,1,1,2,2,2,1,1,1,1,1,1,1,1,1,2,0,2,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,
0,0,0,0,1,1,1,1,1,1,2,3,1,3,2,1,1,4,1,2,5,1,1,1,1,1,1,1,1,2,1,2,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,6,3,3,1,3,4,2,0,1,1,1,1,1,1,1,1,1,2,1,2,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,4,5,3,4,1,1,5,2,2,0,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,2,1,0,5,4,3,1,5,4,4,1,3,1,1,1,1,1,1,1,1,2,3,3,3,3,3,3,3,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,2,1,6,1,3,4,1,3,3,2,1,1,1,1,1,1,1,1,2,3,5,5,5,5,5,5,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,3,2,1,3,4,1,4,2,0,1,2,1,1,1,1,1,1,1,1,2,3,5,7,7,7,7,5,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,3,2,1,1,1,3,2,2,1,1,1,1,1,1,1,1,1,2,3,5,7,10,9,7,5,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,1,1,1,4,1,1,1,1,1,1,1,1,1,2,3,5,7,9,10,7,5,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,0,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,3,5,7,7,7,7,5,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,5,5,5,5,5,5,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,3,3,3,3,3,3,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],colors:[11105842,319748,13621,2490149,51712,9461017,53504,2817834,911885,49152,582920,55040,49408,2686760,1175057,3211056,8210950,2948908,51712,5842432,47104,3079982,6105600,2621223,10908463,45056,1372436,10711084,122369,2424612,1767194,977678,7421440,6566144,2293538,5776640,582920,48896,2030366,25443,53504,44800,8408329,7289856,
1569815,1306643,5381888,56064,2227745,49152,3079982,5974016,56576,1701401,2424612,714506,2621223,55040,48896,56064,846092,6368768,319748,3342130,5579264,47616,684144,2555686,51968,1043471,2096159,55040,3014445,1109264,2490149,22616,47104,10184740,1701401,1832987,1671039,2686760,53760,14135,1109264,582920,7684608,2621223,4921344,3145519,10316326,49664,44544,10316326,52992,2817834,48384,25700,714506,1473660,50176,55040,43776,47360,2817834,2293538,2359075,3276593,5579264,8145157,3079982,3342130,451334,
53760,7750400,49664,2883371,23901,9395224,7289856,52224,16448,52736,815730,4987136,46080,50176,2883371,2359075,56320,48128,1569815,1605246,2096159,2460555,1175057,2359075,53248,50944,50176,2096159,9461017,53760,846092,2948908,714506,52736,2490149,47360,46336,45568,5316096,50688,486765,2621223,1569815,2555686,5381888,1701401,49920,1671039,9921568,9921568,977678,253955,6039808,2161952,2227745,45568,780299,45056,1109264,4855552,8868880,50432,5184512,517127,319748,54528,24158,1175057,5776640,188162,2555686,
7355648,6434560,2161952,253955,2131590,2883371,714506,5842432,45568,44800,52480,46848,1175057,1372436,45056,8210950,1736832,10579498,1372436,47872,1898780,7092480,46848,56576,55552,44288,9987361,2817834,51200,5447680,45824,47616,2263176,2490149,50176,10908463,1898780,5842432,10645291,6105600,3145519,1504022,20303,10118947,648713,48896,14649,10118947,2817834,24929,51712,10382119,2030366,6302976,50432,13878,6039808,1342074,48896,49152,780299,15677,3184278,51200,9329431,3276593,52480,911885,16705,582920,
1964573,714506,5250304,2686760,8079364,3014445,51456,2227745,2686760,44288,2263176,6368768,6895104,47616,1372436,48384,45824,3079982,2030366,1175057,2490149,1109264,45824,21331,46592,50432,49920,517127,8868880,2921106,2161952,7816192,5579264,1701401,22873,6302976,7618816,451334,49408,5184512,50688,319748,2161952,7750400,2817834,6302976,2686760,15420,10053154,122369,52224,2328969,47872,2227745,1306643,54272,2555686,10053154,51456,53248,52736,55040,2883371,53760,1175057,48384,9000466,1175057,44032,
1736832,9526810,16705,25957,16705,54272,10776877,1898780,5908224,1767194,9461017,52992,45824,3145519,10908463,46848,1898780,2424612,50176,51456,10908463,51968,1767194,56320,7158272,20303,49408,55552,2096159,1504022,1078902,7421440,10645291,55296,4658176,50688,51456,14135,7421440,51968,2227745,51456,52736,54016,749937,9395224,9197845,50176,977678,50432,1569815,55552,51712,51200,8474122,122369,3014445,44288,780299,52480,2883371,3118485,46592,53504,56320,1438229,1438229,1109264,253955,56320,6368768,
51456,50944,749937,54016,56320,1109264,49920,2490149,3342130,7092480,1372436,6302976,2359075,3079982,122369,5776640,1635608,1407867,9592603,188162,2096159,1175057,2131590,2986899,24929,977678,3211056,47360,122369,48128,4658176,1013109,2030366,52992,13364,21331,52480,1898780,56576,50944,9000466,7289856,9132052,8013571,7487232,7421440,6631936,2948908,55808,17733,319748,5052928,5974016,6763520,9132052,223593,2161952,1964573,188162,2328969,6368768,1109264,7750400,8408329,4592384,49920,2065797,53248,355179,
10053154,846092,47616,1306643,2490149,4592384,2161952,24415,3079982,9132052,7355648,46336,56576,7421440,6105600,55808,846092,8079364,48640,2817834,45312,48640,51456,8803087,50688,2555686,16962,47616,53248,43776,46080,1832987,7618816,6368768,53248,52992,846092,50176,54528,51456,517127,53760,52736,55296,2328969,2817834,9395224,56576,45824,1438229,55040,9197845,1175057,1832987,6500352,2883371,49408,54016,46080,50432,188162,5184512,54784,6763520,53248,2817834,5643043,122369,52480,1175057,49664,51712,
46336,53504,48896,54784,319748,977678,911885,846092,51456,1043471,53760,54272,54016,45056,50432,2161952,2621223,55040,2686760,55552,49664,54528,43776,56576,14135,48384,54784,6368768,8145157,7881985,6237184,7421440,9395224,7816192,54784,48896,15163,5579264,2555686,385541,8408329,51712,1306643,517127,20560,1043471,44032,53504,45312,2293538,47872,7816192,55296,92007,911885,44544,45824,385541,1043471,1635608,7616833,7616833,5708836,56576,1635608,7419454,7090489,7748419,3079982,7287868,4853527,5379871,
3145519,4524562,6827317,6564145,1569815,6300973,6958903,5643043,56576,56576,5577250,122369,47616,2227745,1569815,319748,20560,13364,911885,52992,52992,648713,1175057,1109264,55040,52736,2948908,46592,8803087,648713,50944,48384,8868880,5381888,1767194,1372436,50176,6763520,49664,1832987,6829312,1671039,5316096,6697728,5250304,3079982,3211056,7947778,10053154,56320,4524562,56064,7682626,50944,5708836,54784,48896,56064,5511457,1701401,1767194,6761524,122369,4721941,50176,5182492,1306643,4853527,49920,
4787734,50176,53760,582920,56320,5314078,1043471,46592,6105600,45568,451334,846092,21588,51200,7684608,6171392,9263638,7421440,6960896,7421440,8934673,52224,54528,47104,2293538,1276281,49408,582920,648713,1767194,51456,2424612,51200,1701401,51712,10382119,1043471,45568,49664,2621223,9395224,1898780,49920,10053154,911885,5379871,1635608,7090489,7551040,5314078,51456,122369,46336,4590355,188162,2621223,4919320,54272,6564145,1109264,6300973,7551040,5972008,45568,7090489,6169387,6695731,51200,451334,
7222075,1306643,1569815,45568,44544,14392,49664,5974016,53760,50688,44288,50944,50688,319748,3276593,714506,51968,4855552,6829312,2657934,1240850,1736832,55552,54016,52736,46080,8145157,2855313,1109264,17219,49408,188162,48640,52480,45056,54784,17219,3211056,5052928,582920,7616833,2752297,6827317,648713,5840422,56576,51712,1569815,7682626,648713,2555686,7024696,56576,7419454,45056,7748419,977678,45824,2752297,7090489,648713,1109264,1964573,51968,1109264,1372436,3145519,55552,51200,2490149,51968,24415,
1043471,8868880,6829312,7553024,6500352,6829312,9066259,7026688,780299,6039808,7487232,51456,54528,2359075,2686760,55296,7816192,5250304,3014445,253955,48128,2490149,1964573,6105600,51968,1671039,44288,49408,780299,1109264,4855552,451334,5906215,780299,7353661,1372436,7551040,1635608,50432,55808,6761524,43776,911885,5972008,6432559,7156282,55040,4787734,2030366,51200,3211056,6300973,6564145,5314078,1372436,49152,4853527,846092,49920,9658396,1438229,23644,16191,21331,50176,55296,122369,188162,50432,
55808,582920,54784,55552,2948908,50944,6895104,51968,8210950,56320,1372436,2752297,2948908,2490149,4526592,50432,53248,2096159,3079982,253955,3315864,1109264,45056,46336,56064,2752297,780299,2883371,1964573,517127,1372436,1832987,55296,48384,47616,122369,52480,50688,780299,50944,44288,846092,122369,44544,2490149,2621223,55296,45312,50432,54528,52480,1569815,2424612,1175057,21845,6500352,2948908,2227745,6237184,582920,7881985,6566144,7618816,9263638,9066259,6829312,6631936,54272,911885,7355648,1964573,
49664,1569815,50944,55040,49408,3014445,7684608,2227745,15934,451334,3276593,2555686,10316326,49152,10645291,6237184,44544,2293538,17476,911885,977678,8145157,2621223,1306643,50944,48640,2490149,48128,50944,48896,56064,48384,648713,52480,2555686,46080,1701401,1504022,54272,7684608,2359075,46592,50688,51200,56320,56576,21331,2621223,2131590,5184512,46336,6763520,50176,50688,911885,1372436,648713,188162,55808,3276593,3079982,1898780,10118947,7947778,51456,52480,51200,50176,21588,11040049,1210488,1144695,
47872,2621223,10908463,11040049,2161952,1372436,52224,2030366,2621223,45312,2817834,6302976,21588,2227745,11040049,52992,1043471,4921344,5645056,10447912,8868880,10974256,2686760,13364,48128,20303,52480,3250071,54528,7421440,10184740,50432,45312,4723968,3342130,1306643,1832987,16962,9132052,10513705,2948908,52736,10645291,2161952,53248,55552,53248,49920,1504022,45568,977678,911885,44544,3342130,3145519,2592141,319748,55296,46848,6302976,9789982,780299,14649,44288,44544,2030366,1964573,45312,1569815,
1013109,846092,51200,355179,49664,52736,2948908,5250304,51968,9592603,1736832,55040,10579498,4723968,2227745,54528,1240850,2424612,53760,1504022,48640,2555686,6697728,47872,51200,51200,50944,8408329,1701401,8013571,10184740,47872,1767194,977678,10974256,55552,2359075,2686760,55808,1372436,2621223,50688,50944,49152,1438229,2883371,2293538,2030366,911885,10053154,51456,9789982,451334,5645056,52992,54784,3276593,1569815,8539915,2293538,53248,56064,2817834,911885,3079982,4723968,46080,2948908,1438229,
52224,43776,56064,46080,2948908,8671501,2424612,9461017,53760,51456,1767194,1175057,45568,9197845,56064,3211056,50688,56064,2686760,51968,3079982,5381888,47104,451334,8934673,911885,45312,10711084,13878,157800,8474122,1635608,8605708,911885,6039808,2686760,6434560,7881985,56320,1898780,44032,52736,15163,2096159,52736,582920,50688,1210488,49152,47104,16191,4526592,10974256,1372436,2686760,3211056,18504,55808,47872,6697728,51456,9132052,7158272,648713,44544,8671501,5316096,5710848,50944,9724189,18761,
44800,51712,50944,52736,714506,1109264,45568,1964573,5908224,9132052,48128,1306643,9789982,48640,1306643,50432,911885,319748,1240850,2789520,23387,2817834,2883371,20817,48128,1306643,51968,8276743,8145157,5513472,49152,8868880,50688,9855775,517127,4658176,3145519,2526348,1342074,486765,53504,44800,9329431,1504022,1240850,2096159,1504022,4789760,8934673,9263638,43776,44544,3342130,3079982,7026688,44288,45312,22873,2752297,1109264,846092,51968,2161952,7158272,6895104,582920,43776,45568,9921568,2161952,
253955,3014445,1240850,52480,22616,122369,1635608,2394762,56320,2293538,16705,6631936,1832987,2752297,50176,43776,45056,47104,2424612,648713,2030366,21588,48896,4855552,2817834,122369,2555686,52992,7947778,1635608,3211056,51200,451334,8671501,49920,49664,8210950,1306643,51200,2227745,9592603,1701401,1504022,55040,7092480,56576,55040,385541,1240850,7684608,8539915,1175057,1832987,1043471,44288,3276593,53248,51456,780299,2752297,5513472,47360,2293538,44800,6895104,2555686,2227745,253955,2424612,1898780,
48128,8474122,2424612,50432,48896,2030366,1964573,846092,3211056,56576,122369,2030366,47616,55808,52736,1240850,5316096,55040,26214,253955,2883371,44800,54272,45824,7026688,2065797,4658176,1767194,54528,53248,8868880,46592,3014445,6974024,4210718,5000234,5855543,7302989,4473890,6052922,5921336,2304433,2238640,2107054,7368782,49152,2555686,7158272,6039808,2161952,1438229,51456,54016,3276593,47616,51712,56064,188162,3145519,7684608,51712,44544,618351,54272,54528,55552,9066259,5974016,1635608,1635608,
45056,1635608,20303,1276281,22873,1210488,20817,23130,45056,9724189,1569815,4789760,517127,10776877,1635608,10579498,55552,714506,2752297,47616,2161952,6697728,1372436,54784,1767194,846092,46336,5263406,5855543,5066027,5066027,5921336,4210718,6184508,23387,25186,25443,1407867,4210718,3079982,1569815,24158,54016,582920,3052692,1306643,253955,46336,1306643,47872,44544,6895104,52480,44544,2359075,2096159,1013109,56320,51712,977678,8737294,1372436,44544,9329431,1438229,2490149,19789,3300440,2892113,5385472,
26214,92007,1504022,51712,50688,2293538,122369,3052692,47104,45824,45056,55296,3276593,1635608,1701401,355179,20817,10447912,517127,15934,1438229,5526578,6513473,4802855,4737062,5921336,7500368,5789750,56576,23901,5776640,1473660,4868648,55808,14135,46592,46336,43776,43776,44288,8079364,2030366,24672,2883371,6895104,582920,48384,2424612,2096159,780299,5184512,780299,1342074,385541,44800,10118947,1832987,10974256,51712,48640,7501621,1407867,1276281,24929,21331,20046,50944,7289856,53504,1635608,53248,
15163,1306643,10316326,52992,44288,53760,2490149,1767194,2555686,55040,53248,56576,47104,8539915,2161952,20817,44800,1043471,47104,6895104,17990,911885,2227745,55808,1342074,6184508,7487232,517127,648713,2490149,46592,46336,6895104,15934,55552,1043471,5710848,6631936,7355648,1504022,2424612,1898780,486765,44544,53248,1504022,2948908,51712,47360,1240850,56320,780299,3014445,21588,24672,26214,289386,2302241,486765,451334,6960896,911885,2817834,4526592,6039808,8934673,48896,1767194,47616,2817834,223593,
6237184,780299,47104,6566144,1701401,52736,19789,56320,55808,49152,52736,8737294,47616,51968,46848,2948908,44544,25700,4408097,947316,10842670,7487232,26214,53504,18247,7881985,44800,2131590,385541,49664,2030366,43776,648713,7289856,3250071,648713,45056,3342130,10645291,8210950,9592603,977678,319748,1306643,3014445,92007,23901,1013109,1144695,20046,552558,24415,55040,6960896,50944,8868880,46848,8737294,5908224,7750400,51456,22102,44288,47616,355179,8803087,56320,911885,52480,2789520,53760,24672,56576,
8408329,451334,52480,55040,51712,7684608,780299,45312,25443,4342304,385541,55552,20303,16191,7421440,911885,54016,10118947,2752297,47616,947316,44544,6895104,48128,45056,51456,2131590,122369,8803087,51200,53760,582920,385541,7684608,26214,2424612,56576,1827,20303,4731921,1342074,4464947,1144695,50688,7224064,54528,2657934,10184740,45824,582920,517127,9066259,6105600,56320,9066259,51968,53504,7092480,50944,11105842,3250071,10842670,6250301,6974024,4473890,4868648,5592371,6645059,7500368,46336,5184512,
50688,420972,4276511,582920,2752297,648713,1767194,6434560,188162,51200,49920,1964573,22616,9526810,55296,54272,8915080,7077996,8586115,9112459,7143533,7929977,8520322,7143533,648713,8671501,8803087,8210950,188162,2490149,1013109,20817,6111532,25186,1078902,25186,1701401,52736,1372436,911885,5184512,188162,10447912,52736,55808,6829312,1898780,2686760,53504,49920,3211056,10776877,2460555,6829312,5052928,6579266,4934441,7302989,6645059,7237196,5789750,7302989,1407867,552558,25186,21074,4671269,385541,
24415,55808,5842432,2293538,3342130,5052928,6566144,846092,223593,51200,517127,122369,9309838,15538750,8651908,6881385,10033561,9836182,16196680,7536755,50688,49152,582920,47360,6237184,46336,49152,2161952,122369,54272,10118947,48384,3211056,52992,10447912,2883371,2227745,9526810,2948908,1964573,46336,2030366,5250304,56064,1372436,319748,10711084,51456,48896,10053154,3342130,7368782,6184508,5921336,6710852,4210718,7500368,5394992,4868648,1975468,2436019,2830777,6447680,2948908,3014445,24158,10776877,
5579264,43776,2096159,2621223,15934,54784,1438229,846092,2161952,9836182,9638803,15801922,7340144,8520322,14815027,6881385,9178252,6500352,319748,21588,47104,48384,52736,14649,5725013,22102,5990510,20560,350552,140567,8068683,26214,648713,1671039,44288,9329431,1372436,2883371,5908224,2490149,56576,48896,55552,46592,55552,1109264,9987361,10382119,1175057,2621223,122369,1240850,53760,6710852,54784,1240850,714506,8671501,7355648,2424612,52224,223593,846092,6434560,2686760,8803087,7684608,780299,50944,
3184278,53504,5513472,51712,8454529,9441424,6750311,13107225,14354476,9046666,7602292,7798903,2621223,6434560,9526810,2293538,2227745,9000466,20560,23130,22616,23644,289386,1539453,223593,25186,24415,53504,1964573,8210950,1832987,6631936,44288,8803087,188162,122369,10382119,911885,1109264,223593,1635608,10711084,7026688,8605708,51712,47872,51456,51968,24158,2359075,1964573,2948908,8803087,1504022,44288,188162,385541,13878,780299,46592,55040,5974016,8737294,21331,8210950,45056,1964573,1109264,8783494,
9441424,9309838,15867715,14946613,9244045,7864440,9507217,16962,5776640,1043471,46848,10250533,2555686,15163,92007,21588,21845,1078902,2161952,24415,20817,92007,48640,50176,2460555,2161952,2030366,53504,50432,1898780,911885,49408,46080,1635608,9263638,2555686,10842670,4855552,50688,319748,5052928,1832987,977678,648713,4526592,188162,582920,9987361,47872,16962,52992,48640,52736,51968,45568,56064,9921568,2096159,53504,52736,49152,3250071,451334,9573010,9901975,14551855,8586115,7077996,14025511,8454529,
9836182,1898780,2686760,1438229,47360,6368768,18504,947316,23901,1276281,223593,1407867,21074,1898780,1210488,21074,46080,3014445,780299,977678,9329431,9000466,2161952,122369,2752297,50176,47104,2817834,44544,6829312,10711084,49408,10184740,48128,46336,8737294,1175057,54016,6631936,7553024,1109264,24158,52992,2328969,17476,8671501,51456,53248,1504022,1832987,10776877,49920,49152,1671039,11105842,3079982,2131590,8783494,15933508,9309838,8061051,7274607,9967768,14815027,8323199,2030366,55296,1504022,
5776640,2000004,47872,25443,1384965,20817,4680026,223593,1013109,4194373,3481648,23130,10645291,52224,517127,2883371,1013109,2263176,319748,2424612,1473660,53760,46848,3184278,52992,55552,385541,49664,1635608,22102,1306643,2855313,52224,1767194,4921344,47104,20817,43776,52480,8342536,47104,1934211,7224064,2424612,9658396,7553024,3211056,51200,648713,3276593,7684608,1569815,8737294,9967768,9507217,7077996,9441424,7667829,7471218,8061051,8388736,7026688,9066259,1832987,6763520,47616,3145519,55040,2096159,
7553024,5974016,2227745,8474122,7092480,911885,56064,6302976,48640,2000004,48384,5316096,2948908,2424612,1175057,911885,46080,53760,1832987,11105842,9395224,26214,52480,47104,8934673,45056,22359,2686760,7553024,9066259,50688,517127,7553024,8013571,48128,7487232,1964573,47616,2359075,2490149,582920,5381888,319748,1898780,54528,6039808,43776,47872,9855775,6895104,3184278,45824,55296,46592,47872,3052692,54272,2490149,44544,45824,9329431,10184740,8539915,1306643,55552,51456,6763520,319748,1569815,51968,
3250071,20046,4281666,22873,355179,4876313,5060391,1701401,1964573,5776640,911885,1964573,2817834,47104,19789,50176,15420,51456,2424612,55040,3315864,749937,7289856,3145519,714506,4855552,19018,2555686,48896,8934673,6434560,50432,977678,2752297,7881985,53760,50432,9395224,52224,9395224,1504022,2293538,1504022,54272,552558,49408,6697728,10579498,49408,44288,6763520,7289856,56320,45568,92007,5316096,6434560,50176,8408329,1569815,8408329,54528,46336,582920,6895104,122369,20817,355179,223593,684144,22873,
53504,10250533,7092480,5842432,5908224,1438229,50176,7355648,1240850,3118485,451334,2096159,55296,44032,2817834,56320,188162,2686760,49152,7816192,55808,8737294,517127,53760,2096159,53760,10513705,1671039,46336,49920,1109264,618351,51968,9395224,2752297,47104,2621223,1964573,8276743,46592,19018,56576,517127,55040,51200,2490149,3118485,47104,10711084,6763520,49664,385541,2555686,51456,2227745,2855313,47616,3014445,47360,23644,23901,23644,6431053,24158,8145157,5645056,24672,618351,49152,8145157,10382119,
53760,2359075,8737294,4658176,1701401,56064,5974016,2555686,289386,10908463,47104,2030366,51200,8145157,2065797,2752297,648713,5645056,54784,2227745,517127,46848,21331,8145157,53248,14392,55808,47104,46848,6434560,2883371,2227745,25186,7355648,50688,43776,9395224,5710848,49664,45568,1043471,49920,3211056,54272,6631936,8934673,54272,45824,5714744,19789,749937,73025,21588,157800,1013109,25700,1322588,55040,1832987,1504022,2817834,2948908,44800,45824,2293538,44544,9197845,517127,355179,1964573,911885,
50432,1175057,48128,1964573,2424612,1569815,5250304,45568,46848,45312,13621,52992,7618816,52480,1407867,451334,8210950,56320,1306643,3211056,6237184,4789760,21588,1144695,2621223,2096159,50688,6697728,2817834,780299,46336,50176,45056,45568,582920,2161952,53760,1372436,46592,46336,517127,7086871,21588,947316,289386,24929,25186,25957,24415,355179,53504,1438229,56576,2555686,44032,49664,45312,9461017,911885,11040049,1504022,385541,51200,2227745,25957,6895104,47104,9526810,55552,48640,6895104,54272,1306643,
2293538,2131590,7684608,780299,44288,582920,2359075,45568,55552,1635608,52992,44800,47616,7881985,2817834,10053154,11040049,45568,46336,3014445,45056,6039808,2227745,54528,44032,54016,46848,50176,5645056,2948908,53504,44544,22873,1407867,815730,1013109,355179,22359,19789,1407867,6571313,54016,49920,1898780,45312,46848,50432,53248,54784,6171392,50688,52736,52480,50944,55552,51968,56320,648713,2883371,9263638,1832987,2555686,49920,3145519,2096159,1767194,53504,3211056,11040049,52224,6697728,50432,2227745,
4987136,2855313,44544,7158272,1043471,1898780,54528,6566144,55040,780299,54784,50688,44288,45056,6566144,52224,6631936,6960896,3014445,46336,52224,2359075,2227745,684144,22359,157800,1473660,749937,25957,420972,1342074,25186,1043471,49664,20046,25186,49152,3014445,1372436,3342130,7750400,1175057,5974016,25443,14906,53760,517127,54016,1898780,3079982,517127,9526810,19018,44288,2030366,45568,6697728,20817,50176,289386,54528,48640,5776640,10711084,52480,2621223,6631936,1109264,1701401,1372436,1109264,
188162,714506,54784,10908463,1605246,1306643,2161952,53504,55296,47872,3014445,46080,4592384,3211056,10316326,55040,24929,1659703,289386,6629211,1605246,6435924,1407867,5061402,23130,49408,56064,648713,11105842,253955,14135,17219,53760,48128,16705,17733,3211056,5579264,52224,45568,7684608,56320,45824,2490149,44800,7618816,517127,7158272,3211056,2490149,1043471,157800,517127,46592,9000466,15163,56320,6829312,45312,44032,10316326,45568,49664,5250304,1043471,50176,19789,92007,5316096,10579498,1832987,
1898780,6039808,23130,46336,2161952,1569815,4855552,8539915,25443,52992,8210950,45568,253955,2424612,1240850,8342536,1109264,517127,10447912,45824,51712,92007,1306643,846092,8079364,1372436,51968,56064,55808,3315864,4921344,1767194,53248,3276593,517127,55552,977678,385541,1504022,3250071,1898780,1504022,1635608,23901,517127,122369,3250071,2227745,44800,2424612,2359075,45056,14392,54784,47104,3014445,9526810,1964573,4592384,3014445,188162,51456,1964573,21588,2883371,1898780,2424612,7224064,451334,
55296,6237184,2424612,25443,10711084,3145519,6697728,49152,517127,1671039,8934673,47872,5974016,50432,1372436,7026688,48640,54784,2490149,17476,54784,47616,5645056,5908224,1175057,8803087,43776,6895104,49920,43776,1210488,7487232,50944,46080,47104,52992,54016,50432,319748,44288,5184512,5710848,7026688,46336,45312,45568,56064,714506,8079364,2359075,1306643,47872,49664,46080,49920,49664,55040,2555686,47104,23387,2460555,49152,53248,1043471,54272,52480,49920,1832987,2621223,51200,10250533,49408,253955,
1438229,9789982,53248,44800,13364,2293538,4526592,44032,4855552,2293538,289386,517127,618351,47104,49664,48384,977678,47360,1898780,55040,1605246,50944,6039808,48384,48128,582920,46336,1043471,451334,20046,8737294,10711084,2555686,714506,23901,52224,46080,3014445,2394762,2948908,517127,47104,1240850,6763520,977678,188162,9789982,3276593,3079982,4658176,51200,8737294,47616,47104,122369,51456,2490149,7947778,54784,2948908,1372436,45056,1438229,517127,48640,2686760,48640,1898780,8605708,55040,47104,
45056,46336,3211056,1964573,451334,16705,2161952,52992,1109264,1210488,52992,54272,10316326,49664,1504022,122369,48128,1767194,49920,44800,8474122,46592,1964573,18247,6039808,648713,8803087,44800,8079364,9921568,2096159,2227745,5250304,45312,2621223,6434560,2883371,44288,47616,51968,2424612,10184740,319748,4921344,420972,16191,49152,451334,49408,582920,385541,9987361,46336,44800,49920,56320,1898780,7092480,53504,1043471,10711084,2030366,1043471,1898780,53760,122369,3014445,2293538,517127,2555686,
1569815,7355648,7487232,4658176,846092,648713,2424612,846092,54272,52736,14649,253955,9658396,21331,714506,1504022,51456,45056,2096159,4987136,1109264,11105842,52736,1832987,3079982,5842432,2686760,44800,56320,7487232,8342536,50432,9789982,846092,1635608,2030366,54272,48128,18247,1109264,1605246,55552,47104,46080,6434560,2293538,6039808,10053154,13878,51456,881523,50432,846092,1306643,2227745,6500352,846092,44032,6171392,7947778,2555686,2227745,1306643,2359075,44800,2227745,2817834,582920,2293538,
2030366,3145519,714506,780299,6237184,2424612,48384,51712,1832987,13878,10382119,47104,52480,53248,47872,1701401,1569815,16962,1605246,5776640,48384,17219,6763520,1109264,517127,6829312,45056,49920,6302976,45312,49664,1109264,451334,54528,21845,1767194,7553024,3079982,55808,319748,911885,44800,2986899,45312,846092,749937,10974256,47360,780299,44288,54272,49408,43776,54784,7487232,5381888,2030366,10908463,49664,45824,51968,5513472,648713,55040,3014445,54016,55552,122369,51200,54528,43776,11105842,
52992,50944,3145519,26214,9066259,56320,46592,8342536,4789760,47616,9329431,49920,11105842,5710848,49664,2424612,47360,10382119,7881985,48640,157800,55296,44800,56320,53504,18761,3211056,53504,1701401,7881985,5710848,1438229,6566144,8408329,451334,911885,6039808,2948908,2490149,1043471,385541,7881985,49408,5316096,648713,10645291,7421440,815730,45056,56576,45056,5842432,2855313,48384,7684608,56576,49152,9263638,56576,50176,5381888,47872,45312,6763520,420972,54016,2263176,21074,56576,43776,2752297,
2621223,16705,4526592,48384,6171392,46336,2096159,7750400,714506,55808,7881985,51456,188162,49664,3145519,48384,846092,2065797,1438229,51712,3014445,1898780,2293538,714506,10447912,49664,582920,451334,7092480,44544,3145519,6697728,319748,46080,55552,56320,3014445,2293538,48640,48640,6566144,8013571,45056,55296,5645056,47360,3079982,815730,45312,1832987,3211056,7816192,44288,47872,55040,977678,50176,53760,1898780,2161952,385541,55552,1372436,16448,56064,2817834,7750400,4658176,1767194,7224064,50944,
46848,52736,56576,1372436,54016,5381888,2948908,8868880,52992,47104,47360,1504022,53248,9855775,9724189,50432,55552,46592,2948908,19532,10250533,11040049,5842432,2526348,51456,911885,20817,10974256,2161952,1832987,53504,2948908,55552,9197845,49408,52480,55808,7684608,46336,2555686,517127,1569815,1832987,2490149,1635608,47360,7355648,47104,44288,1504022,52224,44288,48384,2686760,7421440,24929,911885,1438229,3211056,48128,9329431,2424612,49920,48640,19532,1504022,3342130,2490149,846092,2424612,2555686,
46592,7355648,4592384,10053154,51200,1438229,49920,385541,780299,3079982,54784,51200,8145157,54784,10250533,420972,46592,1504022,14392,2424612,846092,846092,7881985,2424612,8803087,48896,8079364,54272,122369,9526810,451334,6566144,4921344,47616,52480,10974256,5118720,1767194,1898780,45056,7487232,55040,188162,1043471,223593,47360,56320,10711084,319748,1569815,6566144,385541,2161952,385541,51200,47616,1043471,552558,977678,46336,51968,3315864,2424612,51712,48128,46336,6566144,45568,10908463,2359075,
21845,5842432,385541,7158272,49920,911885,53504,44800,52992,1240850,2490149,846092,3052692,46080,44032,11105842,5842432,10776877,48384,3014445,253955,1898780,3145519,8934673,9461017,47872,3145519,1438229,7355648,2293538,4592384,50432,780299,319748,3184278,10184740,1175057,9724189,22873,51712,47872,10184740,188162,24158,48128,53248,911885,1240850,51200,22873,2359075,7618816,1868418,2752297,52736,18761,3342130,2161952,19789,5579264,8803087,15677,56576,1635608,188162,92007,51968,49408,54528,6631936,
5118720,517127,50432,9000466,55808,7947778,5974016,14906,55808,1736832,8276743,46848,51968,48128,1964573,47616,5052928,7355648,45568,47104,2817834,15934,55040,188162,6895104,2817834,51712,223593,2686760,1438229,50688,4592384,1767194,45568,44288,486765,46848,47360,8803087,48896,5842432,1767194,451334,51200,8210950,5776640,22616,2065797,2359075,3145519,7816192,3014445,846092,55040,6105600,8737294,7816192,44544,46592,2948908,714506,54016,54272,5381888,48640,1832987,17476,46848,51712,1701401,44544,10053154,
4987136,2424612,47360,1964573,5710848,24158,52480,19532,1013109,1109264,552558,2657934,2883371,2424612,1736832,10250533,10118947,52224,46848,45056,47360,24415,9789982,6829312,6566144,51968,52992,1671039,48896,52480,7816192,2817834,2490149,20303,385541,25443,2789520,2460555,977678,253955,46592,385541,2621223,2555686,1539453,1898780,780299,1438229,10053154,46848,3184278,1407867,49664,47872,3145519,49408,7947778,49664,24158,2131590,15163,846092,49920,319748,44032,54784,49408,1832987,8210950,15677,56320,
3342130,517127,18761,122369,51456,45824,55040,3211056,3276593,977678,54784,385541,1701401,55296,5184512,44288,50432,188162,50944,56320,45056,2328969,8145157,2424612,44800,48640,1569815,10382119,2723727,49152,2883371,3014445,1569815,3276593,2555686,9263638,2131590,52480,4789760,2227745,10053154,8079364,911885,56576,47616,46080,253955,51968,1868418,48896,51200,45056,253955,50176,9395224,50944,46080,45056,2030366,47104,47616,1438229,51200,6105600,6631936,52480,53248,53248,385541,2030366,25957,253955,
47616,2752297,2328969,3079982,1043471,4526592,1372436,1372436,1569815,2555686,582920,25957,6302976,55808,7421440,44544,648713,55552,10579498,3079982,43776,44800,52736,51200,16448,8868880,1109264,54528,5447680,44032,648713,582920,44800,55040,451334,9263638,21845,1832987,44544,56576,6368768,780299,48640,648713,7750400,3014445,53248,51456,1240850,50432,253955,6368768,3211056,3276593,2883371,17476,49664,7816192,10842670,1438229,5842432,2424612,1109264,1635608,51712,5184512,55808,1240850,8539915,7487232,
49664,2621223,52224,54528,1832987,253955,5118720,1832987,43776,18504,3342130,50432,4723968,50432,16448,44288,47104,5052928,1605246,2686760,50432,2490149,43776,49920,48384,2752297,44800,2424612,1964573,55296,2686760,9329431,1013109,9724189,8079364,2227745,355179,54016,50688,44544,2293538,1569815,45568,5316096,50944,45824,517127,55552,780299,385541,319748,3211056,451334,47616,977678,14392,1504022,17733,1539453,15163,16448,2883371,749937,1438229,1372436,714506,2986899,2359075,188162,50432,52480,5447680,
45312,50432,2227745,45312,1832987,4723968,1701401,45824,55552,20560,2883371,49152,2555686,8276743,2621223,385541,2490149,10316326,15163,3118485,45824,8408329,55296,45312,7289856,9526810,4592384,53760,8671501,5513472,2686760,122369,52480,648713,1767194,48128,3079982,1635608,3211056,55296,51712,2948908,2030366,13621,1043471,1504022,45056,1767194,18504,2030366,45312,9197845,2686760,253955,48896,1767194,56320,48640,1438229,54784,749937,122369,49408,517127,846092,51456,3118485,7750400,1175057,48384,49152,
1701401,9461017,3145519,48896,55296,451334,18504,10908463,52736,5842432,3145519,684144,3145519,6171392,714506,5118720,1832987,44800,52480,16191,6895104,45568,1438229,1569815,2921106,881523,2394762,6697728,385541,1701401,6237184,1964573,14649,1109264,9592603,1109264]}}]);angular.module("IsoMetric.templates",[]).run(["$templateCache",function(a){a.put("views/gameplay.html",'<gameplay data-ng-if="city" data-city="city"></gameplay><music data-ng-if="city"></music><a data-ng-if="city" data-ng-click="pause()" class="pause"><i class="fa fa-fw fa-pause"></i></a>');a.put("views/menu.html",'<h1><i class="fa fa-building"></i>IsoMetric</h1><nav><li data-ng-repeat="city in cities | orderBy:\'-lastModified\'" data-ng-class-odd="\'odd\'" class="clearfix"><a data-ng-click="!editing &amp;&amp; play(city)"><span class="image" data-ng-click="editing &amp;&amp; remove(city)"><i data-ng-hide="editing" class="fa fa-play-circle"></i><i data-ng-show="editing" class="fa fa-times"></i></span><span class="info"><span data-ng-hide="editing"><span class="name">{{city.name}}</span><small>Creada el: {{city.createdAt | date}}</small></span><span data-ng-show="editing"><input data-ng-show="editing" type="text" data-ng-model="city.name" data-ng-change="city.save()" required></span></span></a></li><li data-ng-show="cities.length" class="edit" data-ng-class="{active: editing}"><a data-ng-click="editing = !editing" data-ng-dialog-controller="createCity"><i class="fa fa-edit"></i>Editar</a></li><li class="create"><a data-ng-dialog="partials/createCity.html" data-ng-dialog-controller="createCity"><i class="fa fa-plus"></i>Crear nueva ciudad</a></li></nav><form data-ng-class="{disabled: !preferences.hasGL}"><label>Resoluci\u00f3n {{preferences.resolution | resolution}}</label><input type="range" min="1" max="5" data-ng-model="preferences.resolution" data-ng-disabled="!preferences.hasGL" data-ng-change="preferences.save()"><div class="row"><div class="col-4"><label><input type="radio" data-ng-model="preferences.targetFPS" data-ng-value="30" data-ng-change="preferences.save()">30 FPS</label></div><div class="col-4"><label><input type="radio" data-ng-model="preferences.targetFPS" data-ng-value="60" data-ng-change="preferences.save()">60 FPS</label></div><div class="col-4"><label><input type="checkbox" data-ng-model="preferences.antialias" data-ng-disabled="!preferences.hasGL" data-ng-change="preferences.save()">Antialias</label></div></div></form><div data-ng-if="!preferences.hasGL" class="oldbrowser">!Cuidado! Tu dispositivo no soporta WebGL.</div><footer>Copyright (C) 2015 Daniel Esteban Nombela</footer>');
a.put("views/viewer.html",'<tile data-ng-if="type === \'tile\'" data-type="id" data-height="height" data-scale="4" data-resolution="3" data-position="true"></tile>');a.put("partials/createCity.html",'<h1>Crear Ciudad</h1><form class="createCity" name="form" data-ng-submit="!form.$invalid &amp;&amp; submit()"><label>Nombre</label><input type="text" name="name" data-ng-model="name" required autofocus><label>Tama\u00f1o</label><div class="row size"><div class="col-4"><input type="number" name="size" data-ng-model="size" min="8" max="512" required></div><div class="col-4 times">&times;</div><div class="col-4">{{size}}</div></div><div class="submit"><button type="submit">Crear</button></div></form>');
a.put("partials/music.html",'<a data-ng-click="mute()" class="mute"><i class="fa fa-fw" data-ng-class="{\'fa-volume-off\': preferences.muted, \'fa-volume-up\': !preferences.muted}"></i></a>');a.put("partials/toolbox.html",'<ul data-ng-mousedown="$event.stopPropagation()"><li data-ng-class="{active: tool === \'move\'}"><a data-ng-click="tool = \'move\'"><i class="fa fa-fw fa-arrows"></i></a></li><li data-ng-class="{active: tool === \'tile\'}"><a data-ng-click="tool = \'tile\'"><i class="fa fa-fw fa-pencil"></i></a><ul data-ng-style="{width: (tiles.length * 51) + \'px\'}"><li data-ng-repeat="type in tiles" data-ng-class="{active: type === tile}"><a data-ng-click="$parent.tile = type"><tile data-type="type" data-color="type === \'G\' ? $parent.color : 0" data-height="type === \'B\' ? 4 : 1"></tile></a></li></ul></li><li data-ng-class="{active: tool === \'paint\'}"><a data-ng-click="tool = \'paint\'"><i class="fa fa-fw fa-paint-brush"></i></a><ul data-ng-style="{width: (colors.length * 51) + \'px\'}"><li data-ng-repeat="c in colors" data-ng-class="{active: c === color}"><div class="color" data-ng-click="$parent.color = c"><a data-ng-style="{backgroundColor: c.hex}" data-ng-model="c.hex" data-colorpicker data-colorpicker-position="top"></a></div></li></ul></li><li data-ng-class="{active: tool === \'resize\'}"><a data-ng-click="tool = \'resize\'"><i class="fa fa-fw fa-arrows-v"></i></a></li><li><a data-ng-click="rotate()"><i class="fa fa-fw fa-rotate-left"></i></a></li><li data-ng-if="!isCordova"><a data-ng-click="fullscreen()"><i data-ng-class="{\'fa-expand\': !isFullscreen, \'fa-compress\': isFullscreen}" class="fa"></i></a></li><li><a data-ng-click="open = !open"><i data-ng-class="{\'fa-toggle-left\': open, \'fa-toggle-right\': !open}" class="fa"></i></a></li></ul>')}]);
